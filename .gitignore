# -*- coding: utf-8 -*-
"""Arquivo Inicial - Minicurso Analise de Dados Python.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1VrrO8M-AhwjE_VNwq2CNN9hoXfSMa3Z_

# Desafio:

Você trabalha em uma grande empresa de Cartão de Crédito e o diretor da empresa percebeu que o número de clientes que cancelam seus cartões tem aumentado significativamente, causando prejuízos enormes para a empresa

O que fazer para evitar isso? Como saber as pessoas que têm maior tendência a cancelar o cartão?

# O que temos:

Temos 1 base de dados com informações dos clientes, tanto clientes atuais quanto clientes que cancelaram o cartão

Download da Base de Dados: Botão na página

Referência: https://www.kaggle.com/sakshigoyal7/credit-card-customers
"""



"""- Passo 1: importar a base de dados
- Passo 2: Visualizar e tratar a base de dados
- Passo 3:  "Dar uma olhada" na sua base de dados
- Passo 4: Construir uma ánalise para identificar o motivo de cancelamento
- Identificar qual o motivo ou principais motivos dos clientes estarem cancelando o cartão de crédito

# Passo 1: importar a base de dados
#Passo 2: Visualizar e tratar a base de dados
# Agora vamos tratar valores vazios e exibir um resumo das colunas da base de dados
"""

import pandas as pd

tabela = pd.read_csv("/content/drive/MyDrive/Mini curso analise de dados/ClientesBanco.csv", encoding="latin1")
tabela = tabela.drop("CLIENTNUM", axis=1)
display(tabela)

"""# Passo 3: "Dar uma olhada" na sua base de dados"""

tabela = tabela.dropna()
display(tabela.info())

display(tabela.describe().round(1))

"""#Passo 4: Construir uma ánalise para identificar o motivo de cancelamento
#Vamos avaliar como está a divisão de Clientes x Cancelados
"""

qtde_categoria = tabela["Categoria"].value_counts()
display(qtde_categoria)
qtde_categoria_perc = tabela["Categoria"].value_counts(normalize=True)
display(qtde_categoria_perc)

"""# temos várias formas de descobrir o motivo do cancelamento
- Podemos olhar a comparação entre Clientes x Cancelados em cada uma das colunas da nossa base de dados, para ve se esssa informação traz algum insight novo para a
gente
"""

import plotly.express as px

for coluna in tabela:
  grafico = px.histogram(tabela, x=coluna, color="Categoria")
  grafico.show()

"""# Informações retiradas de análise

- Parece que quanto mais produtos contratados um cliente tem, menor as chances dele cancelar.

- E quanto mais transações e quanto maior o valor de transação, menor a chance dele cancelar.

- Quanto mais contatos com a cental para solucionar algo, maior e a chace de cancelamento.


"""
